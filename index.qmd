---
title: "Text Mining for Urban Farming"
subtitle: "Gaining new insights by synthesising archaeological and archaeobotanical research with the help of computational methods and conventional analyses"
author: 
  - name: Ronald M. Visser
    affiliations: Saxion University of Applied Sciences
  - name: Anja D. Fischer
    affiliations: Universiteit van Amsterdam
  - name: Annika L. Blonk-van den Bercken
    affiliations: NMF Erfgoedadvies
  - name: Heleen van Londen
    affiliations: Universiteit van Amsterdam
format:
  revealjs: 
    slide-number: true
    preview-links: auto
    logo: images/Logo_Saxion_NMF_UvA.png
    css: styles.css
    footer: '<https://ronaldvisser.github.io/TextMiningUrbanFarming_IWGP2025> (CC BY 4.0)'
bibliography: references.bib
---

## Structure

-   Context and problem definition
    -   Malta archaeology
    -   Urban Farming 
    -   Archaeological data
-   Text mining: a new method
-   Results
-   Conclusion


## Context: Malta-archaeology

::: columns
::: {.column width="50%"}

Netherlands:

-   Decades of development-led archaeology
-   Increased number of projects since late 1990s
-   Many excavation reports

:::

::: {.column width="50%"}
![[Source: @visser2025, Figure 03.18]](images/Figure_03.18_archaeological_research_nl.png)
:::
:::

## Syntheses > Valletta Harvest

-   Cultural Heritage Agency of the Netherlands (RCE)
-   Harvest knowledge from archaeological reports
-   Synthesis of themes
-   Dutch overview: <https://www.cultureelerfgoed.nl/onderwerpen/bronnen-en-kaarten/overzicht/synthese-archeologische-onderzoeksrapporten>

```{r, echo=FALSE}
plot(qrcode::qr_code("https://www.cultureelerfgoed.nl/onderwerpen/bronnen-en-kaarten/overzicht/synthese-archeologische-onderzoeksrapporten"))
```

## Aim of our project

-   Overview of urban farming in towns
-   Inventory of archaeological information
-   Identify broad patterns

## Urban farming

"the use of land in, and directly around a town for agricultural activities with the aim of producing food"

Themes:

-   arable farming
-   horticulture
-   orchards
-   livestock farming
-   fish farming

## Dutch towns

::: columns
::: {.column width="70"}
Cities from "Atlas of the Dutch urban landscape: a millennium of spatial development" [@atlasof2016]

-   Towns
-   Failed towns
:::

::: {.column width="30%"}
![[Source: @fischer2021, Table 3.1]](images/Table_3.1.png)
:::
:::

## Collect archaeological reports

::: columns
::: {.column width="65%"}
-   84 Towns
-   Excavation between 1997-2017 (Valetta-treaty)
-   Spatial selection:
    -   Jacob van Deventer maps
    -   Buffer 600 metre around centre
    -   Select excavations from Archis 3 (<https://archis.cultureelerfgoed.nl>)
:::

::: {.column width="35%"}
![Nijmegen with buffer of 600 metre](images/Nijmegen_with_buffer.png)
:::
:::

## Selected excavation data

-   2,278 ARCHIS case identifications
-   Download 2,278 pdf-reports from various sources

![[Source: @fischer2021, Table 3.2]](images/Table_3.2.png)

## Too much data

![Source: <https://i.redd.it/4yxnn98j7mwz.jpg>](https://i.redd.it/4yxnn98j7mwz.jpg)

## Saved by text mining: reading by script

::: columns
::: {.column width="60%"}
For each report:

1.  Convert PDF to plain text (OCR if needed)
2.  Term Document Matrix (TDF = occurrence of individual words)
3.  Create word cloud of document
4.  Store TDF in PostgreSQL-database
:::

::: {.column width="40%"}
![](images/2044012100_Groningen_Herestraat_wordcloud.jpg)
:::
:::

## Finding the right words: keywords

::: columns
::: {.column width="55%"}

::: {.r-fit-text}
-   animal husbandry, e.g. animals

-   arable farming, e.g, plant names, tools

-   horticulture, e.g. plant names, utensils

-   general urban farming, e.g. farming terms

-   orchards, e.g. fruits

NOT: too general or ambivalent terms
:::
:::

::: {.column width="45%"}
![[Source: @fischer2021, Figure 2.22]](images/Figure_2.22_Genemuiden.png)
:::
:::

## Most common keywords

![[Source: @fischer2021, Table 4.3]](images/Table_4.3.png)


## Matching keywords with text from documents

-   Valuing keywords
    -   Important: 4 (e.g. plant names)
    -   Less important/discerning terms: 1 (e.g. arable farming)
-   Match keywords with text of document (SQL-query)
-   Scoring document
    -   Sum(occurence of keyword \* value of keyword)

## Ranking (scored) reports

::: columns
::: {.column width="65%"}

Using mean (μ) and standard devation (σ)

A. \> μ+2σ (c. 2.5%);

B. \> μ+σ and \<= μ+2σ (c. 13.5%);

C. \> μ-σ and \<= μ+σ (c. 68%);

D. \> μ-2σ and \<= μ-σ (c. 13.5%);

E. \<= μ-2σ (c. 2.5%).
:::

::: {.column width="35%"}
![[Source: @fischer2021, Table 3.5]](images/Table_3.5.png)
:::
:::

## Ranked reports

::: columns
::: {.column width="65%"}
-   Relevant
    -   rank A: 26 reports
    -   rank B: 183 reports
-   Possibly relevant
    -   rank C: 899 reports
-   Irrelevant
    -   rank D: 152 reports
    -   rank E: 48 reports
:::

::: {.column width="35%"}
Tested by reading sample of 100 reports (20 to each rank)

:::
:::

## Time saving

-   Start: 1380 reports (1448 PDF)
-   Reduced to 265 reports (workload reduction of 80%!)
-   Relevant reports analysed:
    -   Database for structured analysis of keywords
    -   Valuing results (relevance)
    -   Date
    -   Themes
    

## Dating challenges

::: columns
::: {.column width="50%"}
-   Varied dates
    -   Periods (Archaeological Basic Register (ABR))
    -   Exact dating
    -   Date ranges
-   Solutions: combine with summarized probabilities
:::

::: {.column width="50%"}
![[Source: @fischer2021, Figure 3.8]](images/Figure_3.8_example_year_density_sum.png)
:::
:::

## Temporal patterns:

![[Source: @fischer2021, Figure 8.3a]](images/Figure_8.3a_thema_year_density_sum.png)

## Example theme: horticulture

![[Amersfoort in 1652 by Blaeu in @fischer2021, Figure 8.41]](images/Figure_8.41_Blaeu_1652_-_Amersfoort.jpg)

## Example theme: horticulture

::: columns
::: {.column width="50%"}
![[Vegetable garden plots (Depuydt 2014, 37) in @fischer2021, Figure 6.16]](images/Figure_6.16_kuilen.JPG)
:::

::: {.column width="50%"}
![[Watering can made of pottery (dating 1500-1525: Vermunt & Van der Kallen 2013, 32) in @fischer2021, Figure 6.18]](images/Figure_6.18_gieter.jpg)
:::
:::

## Example: (spatial) patterns in Groningen

::: columns

::: {.column width="30%"}

::: {.r-fit-text}
-   oldest centre:
    -   mixed farming practice 
-   northern 17^th^ century expansion:
    -   horticulture
    -   animal husbandry
    -   fish farming


Map on the right with sites plotted on the Van Deventer map in @fischer2021, Figure 8.19
:::
:::
::: {.column width="70%"}

![](images/Figure_8.19_Groningen.png)

:::
:::


## Conclusion

::: {style="font-size:90%"}

::: columns
::: {.column width="50%"}

-   Archaeologists produce (too?) many reports
-   Text mining saves time (>80% of all reports irrelevant)
-   Defining keywords is important
    -   Rating
    -   Valuing
-   Analyses of documents still necessary

:::
::: {.column width="50%"}

-   Patterns of urban farming
    - common
    - spatial distribution over towns
    - temporal variance

:::
:::

:::

## Questions? {background-image="images/NAR68_cover.png"  background-size="300px" background-position="right"} 

If you want to know more:

::: {.r-fit-text}

::: rows
::: {.row height="33%"}

::: columns
::: {.column width="70%"}
This presentation:

<https://ronaldvisser.github.io/TextMiningUrbanFarming_IWGP2025>
<https://doi.org/10.5281/zenodo.16261138>
:::
::: {.column width="25%"}

```{r, echo=FALSE}
plot(qrcode::qr_code("https://ronaldvisser.github.io/TextMiningUrbanFarming_IWGP2025"))
```
:::
:::

:::
::: {.row height="33%"}

::: columns
::: {.column width="70%"}
Open Access book, @fischer2021:

<https://www.cultureelerfgoed.nl/publicaties/publicaties/2021/01/01/urban-farming-and-ruralisation-in-the-netherlands>
:::
::: {.column width="25%"}
```{r, echo=FALSE}
plot(qrcode::qr_code("https://www.cultureelerfgoed.nl/publicaties/publicaties/2021/01/01/urban-farming-and-ruralisation-in-the-netherlands"))
```
:::
:::

:::
::: {.row height="33%"}

::: columns
::: {.column width="70%"}
Reproducible code, @visser:

<https://github.com/RonaldVisser/Mining_Archaeological_Reports> /

<https://doi.org/10.5281/zenodo.7157758\> 
:::
::: {.column width="25%"}
```{r, echo=FALSE}
plot(qrcode::qr_code("https://github.com/RonaldVisser/Mining_Archaeological_Reports"))
```

:::
:::

:::
:::

:::


## References
